"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_thirdweb-dev_wallets_evm_connectors_okx_dist_thirdweb-dev-wallets-evm-connectors-79a800"],{

/***/ "./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: function() { return /* binding */ getValidPublicRPCUrl; },\n/* harmony export */   i: function() { return /* binding */ isTwUrl; }\n/* harmony export */ });\n/* harmony import */ var _thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @thirdweb-dev/chains */ \"./node_modules/@thirdweb-dev/chains/dist/thirdweb-dev-chains.esm.js\");\n\n\nfunction isTwUrl(url) {\n  const host = new URL(url).hostname;\n  return host.endsWith(\".thirdweb.com\") || host === \"localhost\" || host === \"0.0.0.0\";\n}\nfunction getValidPublicRPCUrl(chain) {\n  return (0,_thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_0__.getValidChainRPCs)(chain).map(rpc => {\n    try {\n      const url = new URL(rpc);\n      // remove client id from url\n      if (url.hostname.endsWith(\".thirdweb.com\")) {\n        url.pathname = \"\";\n        url.search = \"\";\n      }\n      return url.toString();\n    } catch (e) {\n      return rpc;\n    }\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvdXJsLWJjODhiMmI2LmJyb3dzZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RDs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdUVBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFbUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9kaXN0L3VybC1iYzg4YjJiNi5icm93c2VyLmVzbS5qcz85YmQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFZhbGlkQ2hhaW5SUENzIH0gZnJvbSAnQHRoaXJkd2ViLWRldi9jaGFpbnMnO1xuXG5mdW5jdGlvbiBpc1R3VXJsKHVybCkge1xuICBjb25zdCBob3N0ID0gbmV3IFVSTCh1cmwpLmhvc3RuYW1lO1xuICByZXR1cm4gaG9zdC5lbmRzV2l0aChcIi50aGlyZHdlYi5jb21cIikgfHwgaG9zdCA9PT0gXCJsb2NhbGhvc3RcIiB8fCBob3N0ID09PSBcIjAuMC4wLjBcIjtcbn1cbmZ1bmN0aW9uIGdldFZhbGlkUHVibGljUlBDVXJsKGNoYWluKSB7XG4gIHJldHVybiBnZXRWYWxpZENoYWluUlBDcyhjaGFpbikubWFwKHJwYyA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocnBjKTtcbiAgICAgIC8vIHJlbW92ZSBjbGllbnQgaWQgZnJvbSB1cmxcbiAgICAgIGlmICh1cmwuaG9zdG5hbWUuZW5kc1dpdGgoXCIudGhpcmR3ZWIuY29tXCIpKSB7XG4gICAgICAgIHVybC5wYXRobmFtZSA9IFwiXCI7XG4gICAgICAgIHVybC5zZWFyY2ggPSBcIlwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBycGM7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IHsgZ2V0VmFsaWRQdWJsaWNSUENVcmwgYXMgZywgaXNUd1VybCBhcyBpIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js ***!
  \*************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InjectedConnector: function() { return /* binding */ InjectedConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/defineProperty-c8ecdc07.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/defineProperty-c8ecdc07.browser.esm.js\");\n/* harmony import */ var _dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/classPrivateFieldSet-a5db7c83.browser.esm.js\");\n/* harmony import */ var _dist_WagmiConnector_2f14002d_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../dist/WagmiConnector-2f14002d.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-2f14002d.browser.esm.js\");\n/* harmony import */ var _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../dist/errors-ec4e53e9.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/errors-ec4e53e9.browser.esm.js\");\n/* harmony import */ var _dist_assertWindowEthereum_88295886_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/assertWindowEthereum-88295886.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/assertWindowEthereum-88295886.browser.esm.js\");\n/* harmony import */ var _dist_url_bc88b2b6_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../dist/url-bc88b2b6.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../dist/normalizeChainId-1fb9aedf.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-1fb9aedf.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/@thirdweb-dev/wallets/node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\nfunction getInjectedName(ethereum) {\n  if (!ethereum) {\n    return \"Injected\";\n  }\n  const getName = provider => {\n    if (provider.isAvalanche) {\n      return \"Core Wallet\";\n    }\n    if (provider.isBitKeep) {\n      return \"BitKeep\";\n    }\n    if (provider.isBraveWallet) {\n      return \"Brave Wallet\";\n    }\n    if (provider.isCoinbaseWallet) {\n      return \"Coinbase Wallet\";\n    }\n    if (provider.isExodus) {\n      return \"Exodus\";\n    }\n    if (provider.isFrame) {\n      return \"Frame\";\n    }\n    if (provider.isKuCoinWallet) {\n      return \"KuCoin Wallet\";\n    }\n    if (provider.isMathWallet) {\n      return \"MathWallet\";\n    }\n    if (provider.isOneInchIOSWallet || provider.isOneInchAndroidWallet) {\n      return \"1inch Wallet\";\n    }\n    if (provider.isOpera) {\n      return \"Opera\";\n    }\n    if (provider.isPortal) {\n      return \"Ripio Portal\";\n    }\n    if (provider.isTally) {\n      return \"Tally\";\n    }\n    if (provider.isTokenPocket) {\n      return \"TokenPocket\";\n    }\n    if (provider.isTokenary) {\n      return \"Tokenary\";\n    }\n    if (provider.isTrust || provider.isTrustWallet) {\n      return \"Trust Wallet\";\n    }\n    if (provider.isMetaMask) {\n      return \"MetaMask\";\n    }\n  };\n\n  // Some injected providers detect multiple other providers and create a list at `ethers.providers`\n  if (ethereum.providers?.length) {\n    // Deduplicate names using Set\n    // Coinbase Wallet puts multiple providers in `ethereum.providers`\n    const nameSet = new Set();\n    let unknownCount = 1;\n    for (const provider of ethereum.providers) {\n      let name = getName(provider);\n      if (!name) {\n        name = `Unknown Wallet #${unknownCount}`;\n        unknownCount += 1;\n      }\n      nameSet.add(name);\n    }\n    const names = [...nameSet];\n    if (names.length) {\n      return names;\n    }\n    return names[0] ?? \"Injected\";\n  }\n  return getName(ethereum) ?? \"Injected\";\n}\n\nvar _provider = /*#__PURE__*/new WeakMap();\nclass InjectedConnector extends _dist_WagmiConnector_2f14002d_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.W {\n  constructor(arg) {\n    const defaultOptions = {\n      shimDisconnect: true,\n      getProvider: () => {\n        if ((0,_dist_assertWindowEthereum_88295886_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(globalThis.window)) {\n          return globalThis.window.ethereum;\n        }\n      }\n    };\n    const options = {\n      ...defaultOptions,\n      ...arg.options\n    };\n    super({\n      chains: arg.chains,\n      options\n    });\n    /**\n     * Name of the injected connector\n     */\n    /**\n     * Whether the connector is ready to be used\n     *\n     * `true` if the injected provider is found\n     */\n    (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, _provider, {\n      writable: true,\n      value: void 0\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"shimDisconnectKey\", \"injected.shimDisconnect\");\n    /**\n     * handles the `accountsChanged` event from the provider\n     * * emits `change` event if connected to a different account\n     * * emits `disconnect` event if no accounts available\n     */\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onAccountsChanged\", async accounts => {\n      if (accounts.length === 0) {\n        this.emit(\"disconnect\");\n      } else {\n        this.emit(\"change\", {\n          account: ethers__WEBPACK_IMPORTED_MODULE_5__.utils.getAddress(accounts[0])\n        });\n      }\n    });\n    /**\n     * handles the `chainChanged` event from the provider\n     * * emits `change` event if connected to a different chain\n     */\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onChainChanged\", chainId => {\n      const id = (0,_dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.n)(chainId);\n      const unsupported = this.isChainUnsupported(id);\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    /**\n     * handles the `disconnect` event from the provider\n     * * emits `disconnect` event\n     */\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onDisconnect\", async error => {\n      // We need this as MetaMask can emit the \"disconnect\" event upon switching chains.\n      // If MetaMask emits a `code: 1013` error, wait for reconnection before disconnecting\n      // https://github.com/MetaMask/providers/pull/120\n      if (error.code === 1013) {\n        const provider = await this.getProvider();\n        if (provider) {\n          try {\n            const isAuthorized = await this.getAccount();\n            if (isAuthorized) {\n              return;\n            }\n          } catch {\n            // If we can't get the account anymore, continue with disconnect\n          }\n        }\n      }\n      this.emit(\"disconnect\");\n\n      // Remove `shimDisconnect` => it signals that wallet is disconnected\n      if (this.options.shimDisconnect) {\n        await this.connectorStorage.removeItem(this.shimDisconnectKey);\n      }\n    });\n    const _provider2 = options.getProvider();\n\n    // set the name of the connector\n    if (typeof options.name === \"string\") {\n      // if name is given, use that\n      this.name = options.name;\n    } else if (_provider2) {\n      // if injected provider is detected, get name from it\n      const detectedName = getInjectedName(_provider2);\n      if (options.name) {\n        this.name = options.name(detectedName);\n      } else {\n        if (typeof detectedName === \"string\") {\n          this.name = detectedName;\n        } else {\n          this.name = detectedName[0];\n        }\n      }\n    } else {\n      // else default to \"Injected\"\n      this.name = \"Injected\";\n    }\n    this.id = \"injected\";\n    this.ready = !!_provider2;\n    this.connectorStorage = arg.connectorStorage;\n  }\n\n  /**\n   * * Connect to the injected provider\n   * * switch to the given chain if `chainId` is specified as an argument\n   */\n  async connect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n      }\n      this.setupListeners();\n\n      // emit \"connecting\" event\n      this.emit(\"message\", {\n        type: \"connecting\"\n      });\n\n      // request account addresses from injected provider\n      const accountAddresses = await provider.request({\n        method: \"eth_requestAccounts\"\n      });\n\n      // get the first account address\n      const firstAccountAddress = ethers__WEBPACK_IMPORTED_MODULE_5__.utils.getAddress(accountAddresses[0]);\n\n      // Switch to given chain if a chainId is specified\n      let connectedChainId = await this.getChainId();\n      // Check if currently connected chain is unsupported\n      // chainId is considered unsupported if chainId is not in the list of this.chains array\n      let isUnsupported = this.isChainUnsupported(connectedChainId);\n\n      // if chainId is specified and it is not the same as the currently connected chain\n      if (options.chainId && connectedChainId !== options.chainId) {\n        // switch to the given chain\n        try {\n          await this.switchChain(options.chainId);\n          // recalculate connectedChainId and isUnsupported\n          connectedChainId = options.chainId;\n          isUnsupported = this.isChainUnsupported(options.chainId);\n        } catch (e) {\n          console.error(`Could not switch to chain id: ${options.chainId}`, e);\n        }\n      }\n\n      // if shimDisconnect is enabled\n      if (this.options.shimDisconnect) {\n        // add the shim shimDisconnectKey => it signals that wallet is connected\n        await this.connectorStorage.setItem(this.shimDisconnectKey, \"true\");\n      }\n      const connectionInfo = {\n        account: firstAccountAddress,\n        chain: {\n          id: connectedChainId,\n          unsupported: isUnsupported\n        },\n        provider\n      };\n      this.emit(\"connect\", connectionInfo);\n      return connectionInfo;\n    } catch (error) {\n      if (this.isUserRejectedRequestError(error)) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n      }\n      if (error.code === -32002) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.R(error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * disconnect from the injected provider\n   */\n  async disconnect() {\n    // perform cleanup\n    const provider = await this.getProvider();\n    if (!provider?.removeListener) {\n      return;\n    }\n    provider.removeListener(\"accountsChanged\", this.onAccountsChanged);\n    provider.removeListener(\"chainChanged\", this.onChainChanged);\n    provider.removeListener(\"disconnect\", this.onDisconnect);\n\n    // if shimDisconnect is enabled\n    if (this.options.shimDisconnect) {\n      // Remove the shimDisconnectKey => it signals that wallet is disconnected\n      await this.connectorStorage.removeItem(this.shimDisconnectKey);\n    }\n  }\n\n  /**\n   * @returns The first account address from the injected provider\n   */\n  async getAccount() {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n    }\n    const accounts = await provider.request({\n      method: \"eth_accounts\"\n    });\n\n    // return checksum address\n    // https://docs.ethers.org/v5/api/utils/address/#utils-getAddress\n    return ethers__WEBPACK_IMPORTED_MODULE_5__.utils.getAddress(accounts[0]);\n  }\n\n  /**\n   * @returns The `chainId` of the currently connected chain from injected provider normalized to a `number`\n   */\n  async getChainId() {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n    }\n    return provider.request({\n      method: \"eth_chainId\"\n    }).then(_dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.n);\n  }\n\n  /**\n   * get the injected provider\n   */\n  async getProvider() {\n    const provider = this.options.getProvider();\n    if (provider) {\n      (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.a)(this, _provider, provider);\n      // setting listeners\n    }\n\n    return (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.b)(this, _provider);\n  }\n\n  /**\n   * get a `signer` for given `chainId`\n   */\n  async getSigner() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const [provider, account] = await Promise.all([this.getProvider(), this.getAccount()]);\n\n    // ethers.providers.Web3Provider\n    return new ethers__WEBPACK_IMPORTED_MODULE_5__.providers.Web3Provider(provider, chainId).getSigner(account);\n  }\n\n  /**\n   *\n   * @returns `true` if the connector is connected and address is available, else `false`\n   */\n  async isAuthorized() {\n    try {\n      // `false` if connector is disconnected\n      if (this.options.shimDisconnect &&\n      // If shim does not exist in storage, wallet is disconnected\n      !Boolean(await this.connectorStorage.getItem(this.shimDisconnectKey))) {\n        return false;\n      }\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n      }\n      // `false` if no account address available, else `true`\n      const account = await this.getAccount();\n      return !!account;\n    } catch {\n      // `false` if any error thrown\n      return false;\n    }\n  }\n\n  /**\n   * switch to given chain\n   */\n  async switchChain(chainId) {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n    }\n    const chainIdHex = ethers__WEBPACK_IMPORTED_MODULE_5__.utils.hexValue(chainId);\n    try {\n      // request provider to switch to given chainIdHex\n      await provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: chainIdHex\n        }]\n      });\n      const chain = this.chains.find(_chain => _chain.chainId === chainId);\n      if (chain) {\n        return chain;\n      }\n      return {\n        chainId: chainId,\n        name: `Chain ${chainIdHex}`,\n        slug: `${chainIdHex}`,\n        nativeCurrency: {\n          name: \"Ether\",\n          decimals: 18,\n          symbol: \"ETH\"\n        },\n        rpc: [\"\"],\n        chain: \"\",\n        shortName: \"\",\n        testnet: true\n      };\n    } catch (error) {\n      // if could not switch to given chainIdHex\n\n      // if tried to connect to a chain that is not configured\n      const chain = this.chains.find(_chain => _chain.chainId === chainId);\n      if (!chain) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.C({\n          chainId,\n          connectorId: this.id\n        });\n      }\n\n      // if chain is not added to provider\n      if (error.code === 4902 ||\n      // Unwrapping for MetaMask Mobile\n      // https://github.com/MetaMask/metamask-mobile/issues/2944#issuecomment-976988719\n      error?.data?.originalError?.code === 4902) {\n        try {\n          // request provider to add chain\n          await provider.request({\n            method: \"wallet_addEthereumChain\",\n            params: [{\n              chainId: chainIdHex,\n              chainName: chain.name,\n              nativeCurrency: chain.nativeCurrency,\n              rpcUrls: (0,_dist_url_bc88b2b6_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.g)(chain),\n              // no client id on purpose here\n              blockExplorerUrls: this.getBlockExplorerUrls(chain)\n            }]\n          });\n          return chain;\n        } catch (addError) {\n          // if user rejects request to add chain\n          if (this.isUserRejectedRequestError(addError)) {\n            throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n          }\n\n          // else other error\n          throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.A();\n        }\n      }\n      if (this.isUserRejectedRequestError(error)) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n      }\n      throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.S(error);\n    }\n  }\n  async setupListeners() {\n    const provider = await this.getProvider();\n    if (provider.on) {\n      provider.on(\"accountsChanged\", this.onAccountsChanged);\n      provider.on(\"chainChanged\", this.onChainChanged);\n      provider.on(\"disconnect\", this.onDisconnect);\n    }\n  }\n  isUserRejectedRequestError(error) {\n    return error.code === 4001;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL2luamVjdGVkL2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtaW5qZWN0ZWQuYnJvd3Nlci5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN5RTtBQUMxRTtBQUN1STtBQUMzSDtBQUNqQjtBQUMvQztBQUN3RDtBQUNwRTtBQUNQOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGFBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDLDJFQUFjO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxRkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxRkFBMEI7QUFDOUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLCtFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtFQUFlO0FBQ25CO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxtQkFBbUIseUNBQUs7QUFDeEIsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwrRUFBZTtBQUNuQixpQkFBaUIsaUZBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQXNCO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0Esa0NBQWtDLHlDQUFLOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YseURBQXlELGdCQUFnQjtBQUN6RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0Esa0JBQWtCLG1FQUF3QjtBQUMxQztBQUNBO0FBQ0Esa0JBQWtCLG1FQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsV0FBVyx5Q0FBSztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUVBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEtBQUssT0FBTyw2RUFBZ0I7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxRkFBcUI7QUFDM0I7QUFDQTs7QUFFQSxXQUFXLHFGQUFxQjtBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQSxlQUFlLDZDQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBc0I7QUFDdEM7QUFDQSx1QkFBdUIseUNBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsV0FBVztBQUNsQyxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtRUFBdUI7QUFDekM7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBb0I7QUFDM0M7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLHNCQUFzQixtRUFBd0I7QUFDOUM7O0FBRUE7QUFDQSxvQkFBb0IsbUVBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1FQUF3QjtBQUMxQztBQUNBLGdCQUFnQixtRUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9ldm0vY29ubmVjdG9ycy9pbmplY3RlZC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLWluamVjdGVkLmJyb3dzZXIuZXNtLmpzPzk0ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2RlZmluZVByb3BlcnR5LWM4ZWNkYzA3LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IF8gYXMgX2NsYXNzUHJpdmF0ZUZpZWxkSW5pdFNwZWMsIGEgYXMgX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LCBiIGFzIF9jbGFzc1ByaXZhdGVGaWVsZEdldCB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvY2xhc3NQcml2YXRlRmllbGRTZXQtYTVkYjdjODMuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgVyBhcyBXYWdtaUNvbm5lY3RvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvV2FnbWlDb25uZWN0b3ItMmYxNDAwMmQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgYSBhcyBDb25uZWN0b3JOb3RGb3VuZEVycm9yLCBVIGFzIFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvciwgUiBhcyBSZXNvdXJjZVVuYXZhaWxhYmxlRXJyb3IsIEMgYXMgQ2hhaW5Ob3RDb25maWd1cmVkRXJyb3IsIEEgYXMgQWRkQ2hhaW5FcnJvciwgUyBhcyBTd2l0Y2hDaGFpbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9lcnJvcnMtZWM0ZTUzZTkuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgYSBhcyBhc3NlcnRXaW5kb3dFdGhlcmV1bSB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvYXNzZXJ0V2luZG93RXRoZXJldW0tODgyOTU4ODYuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRWYWxpZFB1YmxpY1JQQ1VybCB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvdXJsLWJjODhiMmI2LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IHV0aWxzLCBwcm92aWRlcnMgfSBmcm9tICdldGhlcnMnO1xuaW1wb3J0IHsgbiBhcyBub3JtYWxpemVDaGFpbklkIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9ub3JtYWxpemVDaGFpbklkLTFmYjlhZWRmLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jaGFpbnMnO1xuaW1wb3J0ICdldmVudGVtaXR0ZXIzJztcblxuZnVuY3Rpb24gZ2V0SW5qZWN0ZWROYW1lKGV0aGVyZXVtKSB7XG4gIGlmICghZXRoZXJldW0pIHtcbiAgICByZXR1cm4gXCJJbmplY3RlZFwiO1xuICB9XG4gIGNvbnN0IGdldE5hbWUgPSBwcm92aWRlciA9PiB7XG4gICAgaWYgKHByb3ZpZGVyLmlzQXZhbGFuY2hlKSB7XG4gICAgICByZXR1cm4gXCJDb3JlIFdhbGxldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNCaXRLZWVwKSB7XG4gICAgICByZXR1cm4gXCJCaXRLZWVwXCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc0JyYXZlV2FsbGV0KSB7XG4gICAgICByZXR1cm4gXCJCcmF2ZSBXYWxsZXRcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzQ29pbmJhc2VXYWxsZXQpIHtcbiAgICAgIHJldHVybiBcIkNvaW5iYXNlIFdhbGxldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNFeG9kdXMpIHtcbiAgICAgIHJldHVybiBcIkV4b2R1c1wiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNGcmFtZSkge1xuICAgICAgcmV0dXJuIFwiRnJhbWVcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzS3VDb2luV2FsbGV0KSB7XG4gICAgICByZXR1cm4gXCJLdUNvaW4gV2FsbGV0XCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc01hdGhXYWxsZXQpIHtcbiAgICAgIHJldHVybiBcIk1hdGhXYWxsZXRcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzT25lSW5jaElPU1dhbGxldCB8fCBwcm92aWRlci5pc09uZUluY2hBbmRyb2lkV2FsbGV0KSB7XG4gICAgICByZXR1cm4gXCIxaW5jaCBXYWxsZXRcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzT3BlcmEpIHtcbiAgICAgIHJldHVybiBcIk9wZXJhXCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc1BvcnRhbCkge1xuICAgICAgcmV0dXJuIFwiUmlwaW8gUG9ydGFsXCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc1RhbGx5KSB7XG4gICAgICByZXR1cm4gXCJUYWxseVwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNUb2tlblBvY2tldCkge1xuICAgICAgcmV0dXJuIFwiVG9rZW5Qb2NrZXRcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzVG9rZW5hcnkpIHtcbiAgICAgIHJldHVybiBcIlRva2VuYXJ5XCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc1RydXN0IHx8IHByb3ZpZGVyLmlzVHJ1c3RXYWxsZXQpIHtcbiAgICAgIHJldHVybiBcIlRydXN0IFdhbGxldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNNZXRhTWFzaykge1xuICAgICAgcmV0dXJuIFwiTWV0YU1hc2tcIjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU29tZSBpbmplY3RlZCBwcm92aWRlcnMgZGV0ZWN0IG11bHRpcGxlIG90aGVyIHByb3ZpZGVycyBhbmQgY3JlYXRlIGEgbGlzdCBhdCBgZXRoZXJzLnByb3ZpZGVyc2BcbiAgaWYgKGV0aGVyZXVtLnByb3ZpZGVycz8ubGVuZ3RoKSB7XG4gICAgLy8gRGVkdXBsaWNhdGUgbmFtZXMgdXNpbmcgU2V0XG4gICAgLy8gQ29pbmJhc2UgV2FsbGV0IHB1dHMgbXVsdGlwbGUgcHJvdmlkZXJzIGluIGBldGhlcmV1bS5wcm92aWRlcnNgXG4gICAgY29uc3QgbmFtZVNldCA9IG5ldyBTZXQoKTtcbiAgICBsZXQgdW5rbm93bkNvdW50ID0gMTtcbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIGV0aGVyZXVtLnByb3ZpZGVycykge1xuICAgICAgbGV0IG5hbWUgPSBnZXROYW1lKHByb3ZpZGVyKTtcbiAgICAgIGlmICghbmFtZSkge1xuICAgICAgICBuYW1lID0gYFVua25vd24gV2FsbGV0ICMke3Vua25vd25Db3VudH1gO1xuICAgICAgICB1bmtub3duQ291bnQgKz0gMTtcbiAgICAgIH1cbiAgICAgIG5hbWVTZXQuYWRkKG5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBuYW1lcyA9IFsuLi5uYW1lU2V0XTtcbiAgICBpZiAobmFtZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbmFtZXM7XG4gICAgfVxuICAgIHJldHVybiBuYW1lc1swXSA/PyBcIkluamVjdGVkXCI7XG4gIH1cbiAgcmV0dXJuIGdldE5hbWUoZXRoZXJldW0pID8/IFwiSW5qZWN0ZWRcIjtcbn1cblxudmFyIF9wcm92aWRlciA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuY2xhc3MgSW5qZWN0ZWRDb25uZWN0b3IgZXh0ZW5kcyBXYWdtaUNvbm5lY3RvciB7XG4gIGNvbnN0cnVjdG9yKGFyZykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgc2hpbURpc2Nvbm5lY3Q6IHRydWUsXG4gICAgICBnZXRQcm92aWRlcjogKCkgPT4ge1xuICAgICAgICBpZiAoYXNzZXJ0V2luZG93RXRoZXJldW0oZ2xvYmFsVGhpcy53aW5kb3cpKSB7XG4gICAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXMud2luZG93LmV0aGVyZXVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5hcmcub3B0aW9uc1xuICAgIH07XG4gICAgc3VwZXIoe1xuICAgICAgY2hhaW5zOiBhcmcuY2hhaW5zLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGluamVjdGVkIGNvbm5lY3RvclxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbm5lY3RvciBpcyByZWFkeSB0byBiZSB1c2VkXG4gICAgICpcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIGluamVjdGVkIHByb3ZpZGVyIGlzIGZvdW5kXG4gICAgICovXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkSW5pdFNwZWModGhpcywgX3Byb3ZpZGVyLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGltRGlzY29ubmVjdEtleVwiLCBcImluamVjdGVkLnNoaW1EaXNjb25uZWN0XCIpO1xuICAgIC8qKlxuICAgICAqIGhhbmRsZXMgdGhlIGBhY2NvdW50c0NoYW5nZWRgIGV2ZW50IGZyb20gdGhlIHByb3ZpZGVyXG4gICAgICogKiBlbWl0cyBgY2hhbmdlYCBldmVudCBpZiBjb25uZWN0ZWQgdG8gYSBkaWZmZXJlbnQgYWNjb3VudFxuICAgICAqICogZW1pdHMgYGRpc2Nvbm5lY3RgIGV2ZW50IGlmIG5vIGFjY291bnRzIGF2YWlsYWJsZVxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQWNjb3VudHNDaGFuZ2VkXCIsIGFzeW5jIGFjY291bnRzID0+IHtcbiAgICAgIGlmIChhY2NvdW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICAgICAgYWNjb3VudDogdXRpbHMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogaGFuZGxlcyB0aGUgYGNoYWluQ2hhbmdlZGAgZXZlbnQgZnJvbSB0aGUgcHJvdmlkZXJcbiAgICAgKiAqIGVtaXRzIGBjaGFuZ2VgIGV2ZW50IGlmIGNvbm5lY3RlZCB0byBhIGRpZmZlcmVudCBjaGFpblxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQ2hhaW5DaGFuZ2VkXCIsIGNoYWluSWQgPT4ge1xuICAgICAgY29uc3QgaWQgPSBub3JtYWxpemVDaGFpbklkKGNoYWluSWQpO1xuICAgICAgY29uc3QgdW5zdXBwb3J0ZWQgPSB0aGlzLmlzQ2hhaW5VbnN1cHBvcnRlZChpZCk7XG4gICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIGhhbmRsZXMgdGhlIGBkaXNjb25uZWN0YCBldmVudCBmcm9tIHRoZSBwcm92aWRlclxuICAgICAqICogZW1pdHMgYGRpc2Nvbm5lY3RgIGV2ZW50XG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25EaXNjb25uZWN0XCIsIGFzeW5jIGVycm9yID0+IHtcbiAgICAgIC8vIFdlIG5lZWQgdGhpcyBhcyBNZXRhTWFzayBjYW4gZW1pdCB0aGUgXCJkaXNjb25uZWN0XCIgZXZlbnQgdXBvbiBzd2l0Y2hpbmcgY2hhaW5zLlxuICAgICAgLy8gSWYgTWV0YU1hc2sgZW1pdHMgYSBgY29kZTogMTAxM2AgZXJyb3IsIHdhaXQgZm9yIHJlY29ubmVjdGlvbiBiZWZvcmUgZGlzY29ubmVjdGluZ1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL3Byb3ZpZGVycy9wdWxsLzEyMFxuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDEwMTMpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgICAgIGlmIChwcm92aWRlcikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc0F1dGhvcml6ZWQgPSBhd2FpdCB0aGlzLmdldEFjY291bnQoKTtcbiAgICAgICAgICAgIGlmIChpc0F1dGhvcml6ZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgZ2V0IHRoZSBhY2NvdW50IGFueW1vcmUsIGNvbnRpbnVlIHdpdGggZGlzY29ubmVjdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiKTtcblxuICAgICAgLy8gUmVtb3ZlIGBzaGltRGlzY29ubmVjdGAgPT4gaXQgc2lnbmFscyB0aGF0IHdhbGxldCBpcyBkaXNjb25uZWN0ZWRcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hpbURpc2Nvbm5lY3QpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0b3JTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5zaGltRGlzY29ubmVjdEtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgX3Byb3ZpZGVyMiA9IG9wdGlvbnMuZ2V0UHJvdmlkZXIoKTtcblxuICAgIC8vIHNldCB0aGUgbmFtZSBvZiB0aGUgY29ubmVjdG9yXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLm5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIC8vIGlmIG5hbWUgaXMgZ2l2ZW4sIHVzZSB0aGF0XG4gICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgfSBlbHNlIGlmIChfcHJvdmlkZXIyKSB7XG4gICAgICAvLyBpZiBpbmplY3RlZCBwcm92aWRlciBpcyBkZXRlY3RlZCwgZ2V0IG5hbWUgZnJvbSBpdFxuICAgICAgY29uc3QgZGV0ZWN0ZWROYW1lID0gZ2V0SW5qZWN0ZWROYW1lKF9wcm92aWRlcjIpO1xuICAgICAgaWYgKG9wdGlvbnMubmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUoZGV0ZWN0ZWROYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGV0ZWN0ZWROYW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdGhpcy5uYW1lID0gZGV0ZWN0ZWROYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubmFtZSA9IGRldGVjdGVkTmFtZVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbHNlIGRlZmF1bHQgdG8gXCJJbmplY3RlZFwiXG4gICAgICB0aGlzLm5hbWUgPSBcIkluamVjdGVkXCI7XG4gICAgfVxuICAgIHRoaXMuaWQgPSBcImluamVjdGVkXCI7XG4gICAgdGhpcy5yZWFkeSA9ICEhX3Byb3ZpZGVyMjtcbiAgICB0aGlzLmNvbm5lY3RvclN0b3JhZ2UgPSBhcmcuY29ubmVjdG9yU3RvcmFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAqIENvbm5lY3QgdG8gdGhlIGluamVjdGVkIHByb3ZpZGVyXG4gICAqICogc3dpdGNoIHRvIHRoZSBnaXZlbiBjaGFpbiBpZiBgY2hhaW5JZGAgaXMgc3BlY2lmaWVkIGFzIGFuIGFyZ3VtZW50XG4gICAqL1xuICBhc3luYyBjb25uZWN0KCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0b3JOb3RGb3VuZEVycm9yKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldHVwTGlzdGVuZXJzKCk7XG5cbiAgICAgIC8vIGVtaXQgXCJjb25uZWN0aW5nXCIgZXZlbnRcbiAgICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwge1xuICAgICAgICB0eXBlOiBcImNvbm5lY3RpbmdcIlxuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlcXVlc3QgYWNjb3VudCBhZGRyZXNzZXMgZnJvbSBpbmplY3RlZCBwcm92aWRlclxuICAgICAgY29uc3QgYWNjb3VudEFkZHJlc3NlcyA9IGF3YWl0IHByb3ZpZGVyLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiXG4gICAgICB9KTtcblxuICAgICAgLy8gZ2V0IHRoZSBmaXJzdCBhY2NvdW50IGFkZHJlc3NcbiAgICAgIGNvbnN0IGZpcnN0QWNjb3VudEFkZHJlc3MgPSB1dGlscy5nZXRBZGRyZXNzKGFjY291bnRBZGRyZXNzZXNbMF0pO1xuXG4gICAgICAvLyBTd2l0Y2ggdG8gZ2l2ZW4gY2hhaW4gaWYgYSBjaGFpbklkIGlzIHNwZWNpZmllZFxuICAgICAgbGV0IGNvbm5lY3RlZENoYWluSWQgPSBhd2FpdCB0aGlzLmdldENoYWluSWQoKTtcbiAgICAgIC8vIENoZWNrIGlmIGN1cnJlbnRseSBjb25uZWN0ZWQgY2hhaW4gaXMgdW5zdXBwb3J0ZWRcbiAgICAgIC8vIGNoYWluSWQgaXMgY29uc2lkZXJlZCB1bnN1cHBvcnRlZCBpZiBjaGFpbklkIGlzIG5vdCBpbiB0aGUgbGlzdCBvZiB0aGlzLmNoYWlucyBhcnJheVxuICAgICAgbGV0IGlzVW5zdXBwb3J0ZWQgPSB0aGlzLmlzQ2hhaW5VbnN1cHBvcnRlZChjb25uZWN0ZWRDaGFpbklkKTtcblxuICAgICAgLy8gaWYgY2hhaW5JZCBpcyBzcGVjaWZpZWQgYW5kIGl0IGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBjaGFpblxuICAgICAgaWYgKG9wdGlvbnMuY2hhaW5JZCAmJiBjb25uZWN0ZWRDaGFpbklkICE9PSBvcHRpb25zLmNoYWluSWQpIHtcbiAgICAgICAgLy8gc3dpdGNoIHRvIHRoZSBnaXZlbiBjaGFpblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuc3dpdGNoQ2hhaW4ob3B0aW9ucy5jaGFpbklkKTtcbiAgICAgICAgICAvLyByZWNhbGN1bGF0ZSBjb25uZWN0ZWRDaGFpbklkIGFuZCBpc1Vuc3VwcG9ydGVkXG4gICAgICAgICAgY29ubmVjdGVkQ2hhaW5JZCA9IG9wdGlvbnMuY2hhaW5JZDtcbiAgICAgICAgICBpc1Vuc3VwcG9ydGVkID0gdGhpcy5pc0NoYWluVW5zdXBwb3J0ZWQob3B0aW9ucy5jaGFpbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBzd2l0Y2ggdG8gY2hhaW4gaWQ6ICR7b3B0aW9ucy5jaGFpbklkfWAsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHNoaW1EaXNjb25uZWN0IGlzIGVuYWJsZWRcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hpbURpc2Nvbm5lY3QpIHtcbiAgICAgICAgLy8gYWRkIHRoZSBzaGltIHNoaW1EaXNjb25uZWN0S2V5ID0+IGl0IHNpZ25hbHMgdGhhdCB3YWxsZXQgaXMgY29ubmVjdGVkXG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdG9yU3RvcmFnZS5zZXRJdGVtKHRoaXMuc2hpbURpc2Nvbm5lY3RLZXksIFwidHJ1ZVwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25JbmZvID0ge1xuICAgICAgICBhY2NvdW50OiBmaXJzdEFjY291bnRBZGRyZXNzLFxuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkOiBjb25uZWN0ZWRDaGFpbklkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkOiBpc1Vuc3VwcG9ydGVkXG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGVyXG4gICAgICB9O1xuICAgICAgdGhpcy5lbWl0KFwiY29ubmVjdFwiLCBjb25uZWN0aW9uSW5mbyk7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbkluZm87XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAtMzIwMDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlc291cmNlVW5hdmFpbGFibGVFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZGlzY29ubmVjdCBmcm9tIHRoZSBpbmplY3RlZCBwcm92aWRlclxuICAgKi9cbiAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAvLyBwZXJmb3JtIGNsZWFudXBcbiAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBpZiAoIXByb3ZpZGVyPy5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm92aWRlci5yZW1vdmVMaXN0ZW5lcihcImFjY291bnRzQ2hhbmdlZFwiLCB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKTtcbiAgICBwcm92aWRlci5yZW1vdmVMaXN0ZW5lcihcImNoYWluQ2hhbmdlZFwiLCB0aGlzLm9uQ2hhaW5DaGFuZ2VkKTtcbiAgICBwcm92aWRlci5yZW1vdmVMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuXG4gICAgLy8gaWYgc2hpbURpc2Nvbm5lY3QgaXMgZW5hYmxlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hpbURpc2Nvbm5lY3QpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgc2hpbURpc2Nvbm5lY3RLZXkgPT4gaXQgc2lnbmFscyB0aGF0IHdhbGxldCBpcyBkaXNjb25uZWN0ZWRcbiAgICAgIGF3YWl0IHRoaXMuY29ubmVjdG9yU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc2hpbURpc2Nvbm5lY3RLZXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgZmlyc3QgYWNjb3VudCBhZGRyZXNzIGZyb20gdGhlIGluamVjdGVkIHByb3ZpZGVyXG4gICAqL1xuICBhc3luYyBnZXRBY2NvdW50KCkge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBDb25uZWN0b3JOb3RGb3VuZEVycm9yKCk7XG4gICAgfVxuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwiZXRoX2FjY291bnRzXCJcbiAgICB9KTtcblxuICAgIC8vIHJldHVybiBjaGVja3N1bSBhZGRyZXNzXG4gICAgLy8gaHR0cHM6Ly9kb2NzLmV0aGVycy5vcmcvdjUvYXBpL3V0aWxzL2FkZHJlc3MvI3V0aWxzLWdldEFkZHJlc3NcbiAgICByZXR1cm4gdXRpbHMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIGBjaGFpbklkYCBvZiB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBjaGFpbiBmcm9tIGluamVjdGVkIHByb3ZpZGVyIG5vcm1hbGl6ZWQgdG8gYSBgbnVtYmVyYFxuICAgKi9cbiAgYXN5bmMgZ2V0Q2hhaW5JZCgpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgQ29ubmVjdG9yTm90Rm91bmRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwiZXRoX2NoYWluSWRcIlxuICAgIH0pLnRoZW4obm9ybWFsaXplQ2hhaW5JZCk7XG4gIH1cblxuICAvKipcbiAgICogZ2V0IHRoZSBpbmplY3RlZCBwcm92aWRlclxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvdmlkZXIoKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLm9wdGlvbnMuZ2V0UHJvdmlkZXIoKTtcbiAgICBpZiAocHJvdmlkZXIpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfcHJvdmlkZXIsIHByb3ZpZGVyKTtcbiAgICAgIC8vIHNldHRpbmcgbGlzdGVuZXJzXG4gICAgfVxuXG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhIGBzaWduZXJgIGZvciBnaXZlbiBgY2hhaW5JZGBcbiAgICovXG4gIGFzeW5jIGdldFNpZ25lcigpIHtcbiAgICBsZXQge1xuICAgICAgY2hhaW5JZFxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IFtwcm92aWRlciwgYWNjb3VudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5nZXRQcm92aWRlcigpLCB0aGlzLmdldEFjY291bnQoKV0pO1xuXG4gICAgLy8gZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXJcbiAgICByZXR1cm4gbmV3IHByb3ZpZGVycy5XZWIzUHJvdmlkZXIocHJvdmlkZXIsIGNoYWluSWQpLmdldFNpZ25lcihhY2NvdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNvbm5lY3RvciBpcyBjb25uZWN0ZWQgYW5kIGFkZHJlc3MgaXMgYXZhaWxhYmxlLCBlbHNlIGBmYWxzZWBcbiAgICovXG4gIGFzeW5jIGlzQXV0aG9yaXplZCgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gYGZhbHNlYCBpZiBjb25uZWN0b3IgaXMgZGlzY29ubmVjdGVkXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNoaW1EaXNjb25uZWN0ICYmXG4gICAgICAvLyBJZiBzaGltIGRvZXMgbm90IGV4aXN0IGluIHN0b3JhZ2UsIHdhbGxldCBpcyBkaXNjb25uZWN0ZWRcbiAgICAgICFCb29sZWFuKGF3YWl0IHRoaXMuY29ubmVjdG9yU3RvcmFnZS5nZXRJdGVtKHRoaXMuc2hpbURpc2Nvbm5lY3RLZXkpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3Rvck5vdEZvdW5kRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIC8vIGBmYWxzZWAgaWYgbm8gYWNjb3VudCBhZGRyZXNzIGF2YWlsYWJsZSwgZWxzZSBgdHJ1ZWBcbiAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCB0aGlzLmdldEFjY291bnQoKTtcbiAgICAgIHJldHVybiAhIWFjY291bnQ7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBgZmFsc2VgIGlmIGFueSBlcnJvciB0aHJvd25cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogc3dpdGNoIHRvIGdpdmVuIGNoYWluXG4gICAqL1xuICBhc3luYyBzd2l0Y2hDaGFpbihjaGFpbklkKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IENvbm5lY3Rvck5vdEZvdW5kRXJyb3IoKTtcbiAgICB9XG4gICAgY29uc3QgY2hhaW5JZEhleCA9IHV0aWxzLmhleFZhbHVlKGNoYWluSWQpO1xuICAgIHRyeSB7XG4gICAgICAvLyByZXF1ZXN0IHByb3ZpZGVyIHRvIHN3aXRjaCB0byBnaXZlbiBjaGFpbklkSGV4XG4gICAgICBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCIsXG4gICAgICAgIHBhcmFtczogW3tcbiAgICAgICAgICBjaGFpbklkOiBjaGFpbklkSGV4XG4gICAgICAgIH1dXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNoYWluID0gdGhpcy5jaGFpbnMuZmluZChfY2hhaW4gPT4gX2NoYWluLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgICAgaWYgKGNoYWluKSB7XG4gICAgICAgIHJldHVybiBjaGFpbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNoYWluSWQ6IGNoYWluSWQsXG4gICAgICAgIG5hbWU6IGBDaGFpbiAke2NoYWluSWRIZXh9YCxcbiAgICAgICAgc2x1ZzogYCR7Y2hhaW5JZEhleH1gLFxuICAgICAgICBuYXRpdmVDdXJyZW5jeToge1xuICAgICAgICAgIG5hbWU6IFwiRXRoZXJcIixcbiAgICAgICAgICBkZWNpbWFsczogMTgsXG4gICAgICAgICAgc3ltYm9sOiBcIkVUSFwiXG4gICAgICAgIH0sXG4gICAgICAgIHJwYzogW1wiXCJdLFxuICAgICAgICBjaGFpbjogXCJcIixcbiAgICAgICAgc2hvcnROYW1lOiBcIlwiLFxuICAgICAgICB0ZXN0bmV0OiB0cnVlXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBpZiBjb3VsZCBub3Qgc3dpdGNoIHRvIGdpdmVuIGNoYWluSWRIZXhcblxuICAgICAgLy8gaWYgdHJpZWQgdG8gY29ubmVjdCB0byBhIGNoYWluIHRoYXQgaXMgbm90IGNvbmZpZ3VyZWRcbiAgICAgIGNvbnN0IGNoYWluID0gdGhpcy5jaGFpbnMuZmluZChfY2hhaW4gPT4gX2NoYWluLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgICAgaWYgKCFjaGFpbikge1xuICAgICAgICB0aHJvdyBuZXcgQ2hhaW5Ob3RDb25maWd1cmVkRXJyb3Ioe1xuICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgY29ubmVjdG9ySWQ6IHRoaXMuaWRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGNoYWluIGlzIG5vdCBhZGRlZCB0byBwcm92aWRlclxuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDQ5MDIgfHxcbiAgICAgIC8vIFVud3JhcHBpbmcgZm9yIE1ldGFNYXNrIE1vYmlsZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLW1vYmlsZS9pc3N1ZXMvMjk0NCNpc3N1ZWNvbW1lbnQtOTc2OTg4NzE5XG4gICAgICBlcnJvcj8uZGF0YT8ub3JpZ2luYWxFcnJvcj8uY29kZSA9PT0gNDkwMikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIHJlcXVlc3QgcHJvdmlkZXIgdG8gYWRkIGNoYWluXG4gICAgICAgICAgYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwid2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW5cIixcbiAgICAgICAgICAgIHBhcmFtczogW3tcbiAgICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZEhleCxcbiAgICAgICAgICAgICAgY2hhaW5OYW1lOiBjaGFpbi5uYW1lLFxuICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogY2hhaW4ubmF0aXZlQ3VycmVuY3ksXG4gICAgICAgICAgICAgIHJwY1VybHM6IGdldFZhbGlkUHVibGljUlBDVXJsKGNoYWluKSxcbiAgICAgICAgICAgICAgLy8gbm8gY2xpZW50IGlkIG9uIHB1cnBvc2UgaGVyZVxuICAgICAgICAgICAgICBibG9ja0V4cGxvcmVyVXJsczogdGhpcy5nZXRCbG9ja0V4cGxvcmVyVXJscyhjaGFpbilcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgICAgICB9IGNhdGNoIChhZGRFcnJvcikge1xuICAgICAgICAgIC8vIGlmIHVzZXIgcmVqZWN0cyByZXF1ZXN0IHRvIGFkZCBjaGFpblxuICAgICAgICAgIGlmICh0aGlzLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGFkZEVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZWxzZSBvdGhlciBlcnJvclxuICAgICAgICAgIHRocm93IG5ldyBBZGRDaGFpbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBTd2l0Y2hDaGFpbkVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc2V0dXBMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgaWYgKHByb3ZpZGVyLm9uKSB7XG4gICAgICBwcm92aWRlci5vbihcImFjY291bnRzQ2hhbmdlZFwiLCB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgIHByb3ZpZGVyLm9uKFwiY2hhaW5DaGFuZ2VkXCIsIHRoaXMub25DaGFpbkNoYW5nZWQpO1xuICAgICAgcHJvdmlkZXIub24oXCJkaXNjb25uZWN0XCIsIHRoaXMub25EaXNjb25uZWN0KTtcbiAgICB9XG4gIH1cbiAgaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IuY29kZSA9PT0gNDAwMTtcbiAgfVxufVxuXG5leHBvcnQgeyBJbmplY3RlZENvbm5lY3RvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/evm/connectors/okx/dist/thirdweb-dev-wallets-evm-connectors-okx.browser.esm.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/okx/dist/thirdweb-dev-wallets-evm-connectors-okx.browser.esm.js ***!
  \***************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OKXConnector: function() { return /* binding */ OKXConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/defineProperty-c8ecdc07.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/defineProperty-c8ecdc07.browser.esm.js\");\n/* harmony import */ var _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/errors-ec4e53e9.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/errors-ec4e53e9.browser.esm.js\");\n/* harmony import */ var _dist_walletIds_afeb5af2_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/walletIds-afeb5af2.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/walletIds-afeb5af2.browser.esm.js\");\n/* harmony import */ var _injected_dist_thirdweb_dev_wallets_evm_connectors_injected_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _dist_getInjectedOKXProvider_f368fd1c_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/getInjectedOKXProvider-f368fd1c.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/getInjectedOKXProvider-f368fd1c.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/@thirdweb-dev/wallets/node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass OKXConnector extends _injected_dist_thirdweb_dev_wallets_evm_connectors_injected_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.InjectedConnector {\n  constructor(arg) {\n    const defaultOptions = {\n      name: \"OKX\",\n      shimDisconnect: true,\n      shimChainChangedDisconnect: true,\n      getProvider: _dist_getInjectedOKXProvider_f368fd1c_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.g\n    };\n    const options = {\n      ...defaultOptions,\n      ...arg.options\n    };\n    super({\n      chains: arg.chains,\n      options,\n      connectorStorage: arg.connectorStorage\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"id\", _dist_walletIds_afeb5af2_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.w.okx);\n  }\n\n  /**\n   * Connect to injected OKX provider\n   */\n  async connect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.a();\n      }\n      this.setupListeners();\n\n      // emit \"connecting\" event\n      this.emit(\"message\", {\n        type: \"connecting\"\n      });\n\n      // Attempt to show wallet select prompt with `wallet_requestPermissions` when\n      // `shimDisconnect` is active and account is in disconnected state (flag in storage)\n      let account = null;\n      if (this.options?.shimDisconnect && !Boolean(this.connectorStorage.getItem(this.shimDisconnectKey))) {\n        account = await this.getAccount().catch(() => null);\n        const isConnected = !!account;\n        if (isConnected) {\n          // Attempt to show another prompt for selecting wallet if already connected\n          try {\n            await provider.request({\n              method: \"wallet_requestPermissions\",\n              params: [{\n                eth_accounts: {}\n              }]\n            });\n          } catch (error) {\n            // Not all injected providers support `wallet_requestPermissions` (e.g. iOS).\n            // Only bubble up error if user rejects request\n            if (this.isUserRejectedRequestError(error)) {\n              throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.U(error);\n            }\n          }\n        }\n      }\n\n      // if account is not already set, request accounts and use the first account\n      if (!account) {\n        const accounts = await provider.request({\n          method: \"eth_requestAccounts\"\n        });\n        account = ethers__WEBPACK_IMPORTED_MODULE_6__.utils.getAddress(accounts[0]);\n      }\n\n      // get currently connected chainId\n      let connectedChainId = await this.getChainId();\n      // check if connected chain is unsupported\n      let isUnsupported = this.isChainUnsupported(connectedChainId);\n\n      // if chainId is given, but does not match the currently connected chainId, switch to the given chainId\n      if (options.chainId && connectedChainId !== options.chainId) {\n        try {\n          await this.switchChain(options.chainId);\n          // recalculate the chainId and isUnsupported\n          connectedChainId = options.chainId;\n          isUnsupported = this.isChainUnsupported(options.chainId);\n        } catch (e) {\n          console.error(`Could not switch to chain id : ${options.chainId}`, e);\n        }\n      }\n\n      // if shimDisconnect is enabled\n      if (this.options?.shimDisconnect) {\n        // add shimDisconnectKey in storage - this signals that connector is \"connected\"\n        await this.connectorStorage.setItem(this.shimDisconnectKey, \"true\");\n      }\n      const connectionInfo = {\n        chain: {\n          id: connectedChainId,\n          unsupported: isUnsupported\n        },\n        provider: provider,\n        account\n      };\n      this.emit(\"connect\", connectionInfo);\n      return connectionInfo;\n    } catch (error) {\n      if (this.isUserRejectedRequestError(error)) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.U(error);\n      }\n      if (error.code === -32002) {\n        throw new _dist_errors_ec4e53e9_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.R(error);\n      }\n      throw error;\n    }\n  }\n  async switchAccount() {\n    const provider = await this.getProvider();\n    await provider.request({\n      method: \"wallet_requestPermissions\",\n      params: [{\n        eth_accounts: {}\n      }]\n    });\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL29reC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLW9reC5icm93c2VyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUM2RDtBQUN4RTtBQUNnQztBQUNyRjtBQUMrRTtBQUN2QztBQUNOO0FBQ25DO0FBQ1A7QUFDZ0Q7QUFDakI7QUFDYTs7QUFFbkUsMkJBQTJCLHlIQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1GQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSwrRUFBZSxhQUFhLHNFQUFTO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQXNCO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtRUFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLHlDQUFLO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDBEQUEwRCxnQkFBZ0I7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGtCQUFrQixtRUFBd0I7QUFDMUM7QUFDQTtBQUNBLGtCQUFrQixtRUFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZXZtL2Nvbm5lY3RvcnMvb2t4L2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtb2t4LmJyb3dzZXIuZXNtLmpzP2ZjODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2RlZmluZVByb3BlcnR5LWM4ZWNkYzA3LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IGEgYXMgQ29ubmVjdG9yTm90Rm91bmRFcnJvciwgVSBhcyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IsIFIgYXMgUmVzb3VyY2VVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9lcnJvcnMtZWM0ZTUzZTkuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgdyBhcyB3YWxsZXRJZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L3dhbGxldElkcy1hZmViNWFmMi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBJbmplY3RlZENvbm5lY3RvciB9IGZyb20gJy4uLy4uL2luamVjdGVkL2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtaW5qZWN0ZWQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tICdldGhlcnMnO1xuaW1wb3J0IHsgZyBhcyBnZXRJbmplY3RlZE9LWFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9nZXRJbmplY3RlZE9LWFByb3ZpZGVyLWYzNjhmZDFjLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZGlzdC9jbGFzc1ByaXZhdGVGaWVsZFNldC1hNWRiN2M4My5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2Rpc3QvV2FnbWlDb25uZWN0b3ItMmYxNDAwMmQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9kaXN0L2Fzc2VydFdpbmRvd0V0aGVyZXVtLTg4Mjk1ODg2LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZGlzdC91cmwtYmM4OGIyYjYuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9kaXN0L25vcm1hbGl6ZUNoYWluSWQtMWZiOWFlZGYuYnJvd3Nlci5lc20uanMnO1xuXG5jbGFzcyBPS1hDb25uZWN0b3IgZXh0ZW5kcyBJbmplY3RlZENvbm5lY3RvciB7XG4gIGNvbnN0cnVjdG9yKGFyZykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgbmFtZTogXCJPS1hcIixcbiAgICAgIHNoaW1EaXNjb25uZWN0OiB0cnVlLFxuICAgICAgc2hpbUNoYWluQ2hhbmdlZERpc2Nvbm5lY3Q6IHRydWUsXG4gICAgICBnZXRQcm92aWRlcjogZ2V0SW5qZWN0ZWRPS1hQcm92aWRlclxuICAgIH07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4uYXJnLm9wdGlvbnNcbiAgICB9O1xuICAgIHN1cGVyKHtcbiAgICAgIGNoYWluczogYXJnLmNoYWlucyxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjb25uZWN0b3JTdG9yYWdlOiBhcmcuY29ubmVjdG9yU3RvcmFnZVxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIHdhbGxldElkcy5va3gpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbm5lY3QgdG8gaW5qZWN0ZWQgT0tYIHByb3ZpZGVyXG4gICAqL1xuICBhc3luYyBjb25uZWN0KCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0b3JOb3RGb3VuZEVycm9yKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldHVwTGlzdGVuZXJzKCk7XG5cbiAgICAgIC8vIGVtaXQgXCJjb25uZWN0aW5nXCIgZXZlbnRcbiAgICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwge1xuICAgICAgICB0eXBlOiBcImNvbm5lY3RpbmdcIlxuICAgICAgfSk7XG5cbiAgICAgIC8vIEF0dGVtcHQgdG8gc2hvdyB3YWxsZXQgc2VsZWN0IHByb21wdCB3aXRoIGB3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zYCB3aGVuXG4gICAgICAvLyBgc2hpbURpc2Nvbm5lY3RgIGlzIGFjdGl2ZSBhbmQgYWNjb3VudCBpcyBpbiBkaXNjb25uZWN0ZWQgc3RhdGUgKGZsYWcgaW4gc3RvcmFnZSlcbiAgICAgIGxldCBhY2NvdW50ID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnM/LnNoaW1EaXNjb25uZWN0ICYmICFCb29sZWFuKHRoaXMuY29ubmVjdG9yU3RvcmFnZS5nZXRJdGVtKHRoaXMuc2hpbURpc2Nvbm5lY3RLZXkpKSkge1xuICAgICAgICBhY2NvdW50ID0gYXdhaXQgdGhpcy5nZXRBY2NvdW50KCkuY2F0Y2goKCkgPT4gbnVsbCk7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gISFhY2NvdW50O1xuICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAvLyBBdHRlbXB0IHRvIHNob3cgYW5vdGhlciBwcm9tcHQgZm9yIHNlbGVjdGluZyB3YWxsZXQgaWYgYWxyZWFkeSBjb25uZWN0ZWRcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgICAgICAgIG1ldGhvZDogXCJ3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zXCIsXG4gICAgICAgICAgICAgIHBhcmFtczogW3tcbiAgICAgICAgICAgICAgICBldGhfYWNjb3VudHM6IHt9XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gTm90IGFsbCBpbmplY3RlZCBwcm92aWRlcnMgc3VwcG9ydCBgd2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9uc2AgKGUuZy4gaU9TKS5cbiAgICAgICAgICAgIC8vIE9ubHkgYnViYmxlIHVwIGVycm9yIGlmIHVzZXIgcmVqZWN0cyByZXF1ZXN0XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGFjY291bnQgaXMgbm90IGFscmVhZHkgc2V0LCByZXF1ZXN0IGFjY291bnRzIGFuZCB1c2UgdGhlIGZpcnN0IGFjY291bnRcbiAgICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHByb3ZpZGVyLnJlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogXCJldGhfcmVxdWVzdEFjY291bnRzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGFjY291bnQgPSB1dGlscy5nZXRBZGRyZXNzKGFjY291bnRzWzBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IGN1cnJlbnRseSBjb25uZWN0ZWQgY2hhaW5JZFxuICAgICAgbGV0IGNvbm5lY3RlZENoYWluSWQgPSBhd2FpdCB0aGlzLmdldENoYWluSWQoKTtcbiAgICAgIC8vIGNoZWNrIGlmIGNvbm5lY3RlZCBjaGFpbiBpcyB1bnN1cHBvcnRlZFxuICAgICAgbGV0IGlzVW5zdXBwb3J0ZWQgPSB0aGlzLmlzQ2hhaW5VbnN1cHBvcnRlZChjb25uZWN0ZWRDaGFpbklkKTtcblxuICAgICAgLy8gaWYgY2hhaW5JZCBpcyBnaXZlbiwgYnV0IGRvZXMgbm90IG1hdGNoIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIGNoYWluSWQsIHN3aXRjaCB0byB0aGUgZ2l2ZW4gY2hhaW5JZFxuICAgICAgaWYgKG9wdGlvbnMuY2hhaW5JZCAmJiBjb25uZWN0ZWRDaGFpbklkICE9PSBvcHRpb25zLmNoYWluSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnN3aXRjaENoYWluKG9wdGlvbnMuY2hhaW5JZCk7XG4gICAgICAgICAgLy8gcmVjYWxjdWxhdGUgdGhlIGNoYWluSWQgYW5kIGlzVW5zdXBwb3J0ZWRcbiAgICAgICAgICBjb25uZWN0ZWRDaGFpbklkID0gb3B0aW9ucy5jaGFpbklkO1xuICAgICAgICAgIGlzVW5zdXBwb3J0ZWQgPSB0aGlzLmlzQ2hhaW5VbnN1cHBvcnRlZChvcHRpb25zLmNoYWluSWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHN3aXRjaCB0byBjaGFpbiBpZCA6ICR7b3B0aW9ucy5jaGFpbklkfWAsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHNoaW1EaXNjb25uZWN0IGlzIGVuYWJsZWRcbiAgICAgIGlmICh0aGlzLm9wdGlvbnM/LnNoaW1EaXNjb25uZWN0KSB7XG4gICAgICAgIC8vIGFkZCBzaGltRGlzY29ubmVjdEtleSBpbiBzdG9yYWdlIC0gdGhpcyBzaWduYWxzIHRoYXQgY29ubmVjdG9yIGlzIFwiY29ubmVjdGVkXCJcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0b3JTdG9yYWdlLnNldEl0ZW0odGhpcy5zaGltRGlzY29ubmVjdEtleSwgXCJ0cnVlXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29ubmVjdGlvbkluZm8gPSB7XG4gICAgICAgIGNoYWluOiB7XG4gICAgICAgICAgaWQ6IGNvbm5lY3RlZENoYWluSWQsXG4gICAgICAgICAgdW5zdXBwb3J0ZWQ6IGlzVW5zdXBwb3J0ZWRcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxuICAgICAgICBhY2NvdW50XG4gICAgICB9O1xuICAgICAgdGhpcy5lbWl0KFwiY29ubmVjdFwiLCBjb25uZWN0aW9uSW5mbyk7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbkluZm87XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAtMzIwMDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlc291cmNlVW5hdmFpbGFibGVFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc3dpdGNoQWNjb3VudCgpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJ3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zXCIsXG4gICAgICBwYXJhbXM6IFt7XG4gICAgICAgIGV0aF9hY2NvdW50czoge31cbiAgICAgIH1dXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgT0tYQ29ubmVjdG9yIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/evm/connectors/okx/dist/thirdweb-dev-wallets-evm-connectors-okx.browser.esm.js\n"));

/***/ })

}]);